<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="Layout/Layout">
<head>
<meta http-equiv="Content-Type" content="text/html" charset="utf-8" />
<link th:href="@{/webjars/bootstrap/3.3.7-1/css/bootstrap.min.css}"	rel="stylesheet"></link>
<script th:src="@{/webjars/jquery/1.11.1/jquery.min.js}"></script>
<script th:src="@{/webjars/bootstrap/3.3.7-1/js/bootstrap.min.js}"></script>
<title>トップページ</title>
</head>
<body>
	<div layout:fragment="contents">
		<div class="container">

			<main style="text-align: center">
				<h1 sec:authorize="hasAuthority('ADMIN')">管理者ホーム</h1>
				<h1 sec:authorize="hasAuthority('USER')">ユーザーホーム</h1>
			</main>


				<h1 style="text-align: center">管理事務所からのお知らせ</h1>

						<!-- 登録件数が0件の場合（announce.size(0)に表示される-->


			<table class="table table-sm" >
				<thead class="table-dark">
					<tr>
						<!-- 表示内容の種類-->
						<th style="width: 10%">投稿日時</th>
						<th style="width: 40%">お知らせ内容</th>
						<th style="width: 5%" sec:authorize="hasAuthority('ADMIN')">操作</th>
					</tr>
				</thead>
				
				<tbody th:if="!${announce_info.size()}">
				<tr><td colspan="2" style="text-align: center">お知らせはございません。</td></tr>
                </tbody>
                
				<tbody th:if="${announce_info.size()}">
					<tr th:each="announce_info: ${announce_info}"
						th:object="${announce_info}">
						<!-- 表示内容 -->
						<td th:text="*{day_post}"></td>
						<td th:text="*{message}"></td>
						<!-- 編集・削除 -->
						<td class="float-right">
							<form th:action="@{/announcements/{id}(id=*{id})}"th:method="delete">
								<button class="btn btn-primary"
								     sec:authorize="hasAuthority('ADMIN')">削除</button>
							</form>
						</td>
					</tr>
				</tbody>
			</table>



		</div>
	</div>
</body>
</html>